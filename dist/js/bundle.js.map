{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///../edtool/src/dev-refresh-client.js"],"names":["devRefreshClient","json_parse","str","JSON","parse","err","reloadCSS","tag","style","clearTimeout","tm","setTimeout","els","toArray","document","querySelectorAll","forEach","el","href","getAttribute","isFromDist","test","url","split","query","parseQuery","ver","Number","setAttribute","createQuery","nextFrame","Promise","resolve","window","requestAnimationFrame","addTag","head","getElementsByTagName","body","createElement","className","textContent","appendChild","styleTag","styles","type","styleSheet","cssText","css","createTextNode","addTo","arr","item","push","nodeList","result","q","pair","p","obj","Object","entries","map","keyVal","join","action","queue","localStorage","getItem","console","log","removeItem","location","host","match","WebSocket","addEventListener","ws","process","msg","payload","data","setItem","fn","reload","then","onerror","warn"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/js/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n",";(function devRefreshClient(){\r\n  try {\r\n\r\n    var tag = false\r\n    var styleTag = false\r\n    var tm = false\r\n    var action = false\r\n    var queue = false\r\n\r\n    \r\n\r\n    if (localStorage.getItem('wasDevReloaded')) {\r\n      console.log('%cPage was reloaded automatically because of a code change.', 'color: #9c55da')\r\n      localStorage.removeItem('wasDevReloaded')\r\n    }\r\n    if (window.location.host.match(/(\\.dev|\\.local)$|localhost/) && window.WebSocket) {\r\n\r\n      window.addEventListener('load', function() {\r\n        addTag()\r\n      })\r\n\r\n      var ws = new WebSocket('ws://127.0.0.1:' + process.env.REFRESH_PORT)\r\n      ws.addEventListener('message', function(msg){\r\n        var payload = json_parse(msg.data) || { type: 'js', action: 'reload' }\r\n\r\n        if (payload.action === 'reload') {\r\n          if (payload.type === 'js') {\r\n            console.log('%cDetected js code changes! Reloading page.', 'color: #9c55da')\r\n            localStorage.setItem('wasDevReloaded', true)\r\n\r\n            action = {\r\n              type: payload.type,\r\n              fn: function () {window.location.reload()}\r\n            }\r\n          }\r\n\r\n          if (payload.type === 'css') {\r\n            console.log('%cDetected css code changes! Reloading styles.', 'color: #9c55da')\r\n\r\n            if (!action || action.type !== 'js') {\r\n              action = {\r\n                type: payload.type,\r\n                fn: function () {\r\n                  reloadCSS()\r\n                }\r\n              }\r\n            }\r\n          }\r\n\r\n          if (queue) return\r\n\r\n          queue = nextFrame().then(\r\n            function () {\r\n              queue = false\r\n              action.fn()  \r\n            }\r\n          )\r\n        }\r\n      })\r\n      ws.onerror = function() {\r\n        console.log('%cError connecting to dev reload server, you may need to refresh manually!', 'color: #da6955')\r\n      }\r\n    } else {\r\n      console.warn('Project should be rebuilt in production mode')\r\n    }\r\n\r\n    function json_parse(str){\r\n      try{\r\n        return JSON.parse(str);\r\n      } catch (err) {}\r\n    }\r\n\r\n    function reloadCSS(){\r\n      tag.style = 'transform: translateX(0);'\r\n      clearTimeout(tm)\r\n      tm = setTimeout(function(){\r\n        tag.style = ''\r\n      }, 3000)\r\n      var els = toArray(document.querySelectorAll('link[rel=\"stylesheet\"]'))\r\n      els.forEach(function(el) {\r\n        var href = el.getAttribute('href')\r\n        var isFromDist = /assets-built|dist/.test(href)\r\n        if(isFromDist){\r\n          var url = href.split('?')[0]\r\n          var query = parseQuery(href)\r\n          query.ver = query.ver ? Number(query.ver) + 1 : 1\r\n          el.setAttribute('href', url + createQuery(query))\r\n        }\r\n      })\r\n    }\r\n\r\n    function nextFrame () {\r\n      return new Promise(\r\n        function (resolve) {\r\n          window.requestAnimationFrame(resolve)\r\n        }\r\n      )\r\n    }\r\n\r\n    function addTag(){\r\n      var head = document.head || document.getElementsByTagName('head')[0]\r\n      var body = document.body || document.getElementsByTagName('body')[0]\r\n\r\n      if (tag) return\r\n      tag = document.createElement('div')\r\n      tag.className = 'DEV_REFRESH-style-modal'\r\n      tag.textContent = 'Styles were updated'\r\n      body.appendChild(tag)\r\n\r\n      if (styleTag) return\r\n      var styles = \".DEV_REFRESH-style-modal{ padding: 20px; font-size: 16px; font-weight: bold; background: #212121; color: white; position: fixed; display: inline-block; bottom: 20px; right: 0px; transform: translateX(100%); transition: transform 0.2s; z-index: 9999999; }\"\r\n\r\n      styleTag = document.createElement('style')\r\n      styleTag.type = 'text/css'\r\n      if (styleTag.styleSheet) {\r\n        styleTag.styleSheet.cssText = css\r\n      } else {\r\n        styleTag.appendChild(document.createTextNode(styles))\r\n      }\r\n\r\n      head.appendChild(styleTag)\r\n\r\n    }\r\n\r\n    function addTo(arr){\r\n      return function(item) {\r\n        return arr.push(item)\r\n      }\r\n    }\r\n    function toArray(nodeList){\r\n      var result = []\r\n      nodeList.forEach(addTo(result))\r\n      return result\r\n    }\r\n    function parseQuery(url){\r\n      var result = {}\r\n      var q = url.split('?')[1] || ''\r\n      q.split('&').forEach(function(pair){\r\n        var p = pair.split('=')\r\n        result[p[0]] = p[1]\r\n      })\r\n      return result\r\n    }\r\n    function createQuery(obj){\r\n      return '?' + Object.entries(obj).map(function(keyVal){\r\n        return keyVal.join('=')\r\n      }).join('&')\r\n    }\r\n  } catch(err) {\r\n  }\r\n})()\r\n"],"sourceRoot":""}